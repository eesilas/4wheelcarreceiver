<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="4WvT:i#MzIsh(a@`C%|D">RADIO_GROUP</variable><variable id="}r}l^V4Z=[%i83,Q^!fJ">OLED_BRIGHTNESS</variable><variable id="nc4*kl5DES~ZoTXyawGc">lastAction</variable><variable id="mpz1,#~FZVfG`kurPmg:">vnorm</variable><variable id="h6ETo%?itJ]wFduYM8:5">ultrasonicDistance</variable><variable id=";XsB0d7OK5Vc+fi56rv2">currentTime</variable><variable id="R,;g-8m#3~Fu(aE+00g5">lastSignalTime</variable><variable id="UJ1)5yVV[1S=!PLN!feR">DEBOUNCE_TIME</variable><variable id="bvy/-?MeVI;jDr/[?+w7">ULTRASONIC_THRESHOLD</variable><variable id="xuqYpa7E5)|2u*q9LeJ4">UPDATE_INTERVAL</variable><variable id="NFR7ZZk(O-0XdW%6G(;%">V_NORM_DEFAULT</variable></variables><comment id="H}{-+LB%*:vcxcI90Ve:" x="519" y="1723" w="160" h="120">
上次信號時間
</comment><block type="pxt-on-start" id="LC}q)$7}beq+uqo-b~6{" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="fA9btwIh2%JE(Ere3Lz$"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let lastAction = &quot;&quot;" numlines="1" declaredvars="lastAction"></mutation><comment pinned="false" h="80" w="160">超聲波距離
上次動作，初始為空以允許首次動作</comment><next><block type="variables_set" id="=|@WS1w(nGu`CW{|Aq8V"><field name="VAR" id="4WvT:i#MzIsh(a@`C%|D">RADIO_GROUP</field><comment pinned="false" h="80" w="160">小車接收端
常量定義
無線電組ID</comment><value name="VALUE"><shadow type="math_number" id="7i`L[{r{*_V:67oI:?u)"><field name="NUM">121</field></shadow></value><next><block type="variables_set" id="id.+pnhAMi^!@d+xLQ)2"><field name="VAR" id="NFR7ZZk(O-0XdW%6G(;%">V_NORM_DEFAULT</field><comment pinned="false" h="80" w="160">默认电机速度</comment><value name="VALUE"><shadow type="math_number" id="Vu0F=M{}?QRxcj*;|sG|"><field name="NUM">120</field></shadow></value><next><block type="variables_set" id="pH~yS?~+73Lg57|!IUYP"><field name="VAR" id="bvy/-?MeVI;jDr/[?+w7">ULTRASONIC_THRESHOLD</field><comment pinned="false" h="80" w="160">超聲波避障阈值（厘米）</comment><value name="VALUE"><shadow type="math_number" id="@?I,_l:v1#*,Xs(?B~Gr"><field name="NUM">15</field></shadow></value><next><block type="variables_set" id="q)rKkN8-$=qDV(AOQ~Ah"><field name="VAR" id="}r}l^V4Z=[%i83,Q^!fJ">OLED_BRIGHTNESS</field><comment pinned="false" h="80" w="160">OLED亮度</comment><value name="VALUE"><shadow type="math_number" id="{sV[$0tL`_^Mu(LkZi2T"><field name="NUM">87</field></shadow></value><next><block type="variables_set" id="QNS8u(O2C|i!?f!(XpeC"><field name="VAR" id="UJ1)5yVV[1S=!PLN!feR">DEBOUNCE_TIME</field><comment pinned="false" h="80" w="160">去抖时间（毫秒，降低以加快響應）</comment><value name="VALUE"><shadow type="math_number" id=",`F60sOS|[x`W#bqg+|f"><field name="NUM">50</field></shadow></value><next><block type="variables_set" id="?}u@-$PDD)WlIn7mPk$S"><field name="VAR" id="xuqYpa7E5)|2u*q9LeJ4">UPDATE_INTERVAL</field><comment pinned="false" h="80" w="160">传感器更新间隔（毫秒）</comment><value name="VALUE"><shadow type="math_number" id="7|laLg=DEx$XR!.uu$fk"><field name="NUM">500</field></shadow></value><next><block type="typescript_statement" id="NpRfNJL1p-kjF3_IQ7I$"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const RobotAction = {" line1="    Forward: &quot;Forward&quot;," line2="    Backward: &quot;Backward&quot;," line3="    Stop: &quot;Stop&quot;" line4="}" numlines="5" declaredvars="RobotAction"></mutation><next><block type="variables_set" id="ydesrZ7f=i{([z4%C:K7"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field><comment pinned="false" h="80" w="160">全局變量
当前电机速度</comment><value name="VALUE"><shadow type="math_number" id="|LNZSdH?j}{1CM7L5cx7"><field name="NUM">0</field></shadow><block type="variables_get" id="zs6)kUE^m;]#*g0kO[CV"><field name="VAR" id="NFR7ZZk(O-0XdW%6G(;%">V_NORM_DEFAULT</field></block></value><next><block type="function_call" id="8?P3|?=Zpvyr:h3Wu8=h"><mutation name="init" functionid="L)6@ABD^tJk}m#hnqBU3"></mutation><comment pinned="false" h="80" w="160">主程序</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="MN]K`V***JB@tx2*R}PY" x="445" y="0"><statement name="HANDLER"><block type="function_call" id="o,:9gL90[Ze-f0Ty(eP6"><mutation name="displaySensorData" functionid="}40:bWei/U]zHSFh5$FN"></mutation><next><block type="device_pause" id="AFJ]bo)I|v9Y^lU:!:=A"><value name="pause"><shadow type="timePicker" id="QO0!B)Zkj@v*NC5R#q[5"><field name="ms">NaN</field></shadow><block type="variables_get" id="?q+`o(Ev4/Y]uF1RC70~"><field name="VAR" id="xuqYpa7E5)|2u*q9LeJ4">UPDATE_INTERVAL</field></block></value></block></next></block></statement></block><block type="radio_on_number_drag" id="eM[@~I0#^2v,q,RF~{tZ" x="814" y="0"><comment pinned="false" h="80" w="160">無線電接收</comment><value name="HANDLER_DRAG_PARAM_receivedNumber"><block type="argument_reporter_number" id="CVvS42+jG--LKMt9jI}u"><mutation duplicateondrag="true"></mutation><field name="VALUE">receivedNumber</field></block></value><statement name="HANDLER"><block type="variables_set" id="7~=28WQ+,E!U4ka%CCIV"><field name="VAR" id=";XsB0d7OK5Vc+fi56rv2">currentTime</field><value name="VALUE"><shadow type="math_number" id="lObFw}6=6hZHm!@;BbI:"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="L7+8~AwFY9G1:!d[iRIh"></block></value><next><block type="controls_if" id="E0s1r3[a[VU_I=AbE;zj"><comment pinned="false" h="80" w="160">去抖處理</comment><value name="IF0"><shadow type="logic_boolean" id="iRG7.|_ZV)dM6HhdVQS$"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="jU(fl)Lmu/{M*r*u8XTd"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="@Ld%!xG@7Ii?+;WhBDX4"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="E=21Oid#w_40E;sy#5=_"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="v*:so8Rxk9kqFOa:*(Z5"><field name="NUM">0</field></shadow><block type="variables_get" id="Z?P#9L.iO=w/.XaJSCh@"><field name="VAR" id=";XsB0d7OK5Vc+fi56rv2">currentTime</field></block></value><value name="B"><shadow type="math_number" id="_GMxf{?6Oc8-uJ!cgMZl"><field name="NUM">0</field></shadow><block type="variables_get" id="^B0b:p=oGR?mH$j/rp-Q"><field name="VAR" id="R,;g-8m#3~Fu(aE+00g5">lastSignalTime</field></block></value></block></value><value name="B"><shadow type="math_number" id="kU:F_LN-vjzJws83Dz=o"><field name="NUM">0</field></shadow><block type="variables_get" id="^,8]QH]wK:jm/D[irkw@"><field name="VAR" id="UJ1)5yVV[1S=!PLN!feR">DEBOUNCE_TIME</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="/mwjdg2H1|NhG[,45^RZ"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="xiamiBoard_OLEDshowUserText" id="~+Uhc__U!Z`.UHmw{fh]"><comment pinned="false" h="80" w="160">顯示接收信號</comment><value name="text"><block type="text_join" id="_RDr/1fjZ`#uV$r-RZ59"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="LPw$9F5q1x;N6)n;q)SB"><field name="TEXT">Recv: </field></shadow></value><value name="ADD1"><shadow type="text" id="cU2|ki~8Rxs17hLNB)f!"><field name="TEXT"></field></shadow><block type="argument_reporter_number" id="xU(.XoRDfX/Z:RD@Vk;m"><field name="VALUE">receivedNumber</field></block></value></block></value><value name="line"><shadow type="math_number_minmax" id="KDFB@^,G(@KoE7}P!M7z"><mutation min="0" max="7" precision="0"></mutation><field name="SLIDER">8</field></shadow></value><value name="column"><shadow type="math_number_minmax" id="{pNFf%5_9o7zg}{CyK-i"><mutation min="0" max="15" precision="0"></mutation><field name="SLIDER">0</field></shadow></value><next><block type="controls_if" id="N+l|6VH{?GM{[RK|BUUN"><comment pinned="false" h="80" w="160">超聲波避障</comment><value name="IF0"><shadow type="logic_boolean" id="I##l6|%qKFCJd3LaLKQ+"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="JbzMT!+k-xoM6;^Eh[F)"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="S`[![JT]Eo[aN8~9n1o5"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="aacOxM+#2Nr}wb^mhMKb"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="9PnKx_X48u;Qyes|i]+u"><field name="NUM">0</field></shadow><block type="variables_get" id="8,,NW=txM3i)2sE~zBRK"><field name="VAR" id="h6ETo%?itJ]wFduYM8:5">ultrasonicDistance</field></block></value><value name="B"><shadow type="math_number" id=")r^8R.ocahbrrJ6ZO@O^"><field name="NUM">0</field></shadow><block type="variables_get" id="5.1+S,]g`Xs{{fx82cRq"><field name="VAR" id="bvy/-?MeVI;jDr/[?+w7">ULTRASONIC_THRESHOLD</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="NZS3I8dQ0K/?T{?*pt4)"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="r:tP=-u5Ofs3,uom]A8i"><field name="OP">NEQ</field><value name="A"><shadow type="math_number" id="j[B_0l^nR90B~};YJ(rn"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id=")BLC$RfZkIf%ggfdbIKq"><field name="VALUE">receivedNumber</field></block></value><value name="B"><shadow type="math_number" id="8aGua{ST2o%da8RaIyLy"><field name="NUM">14</field></shadow></value></block></value></block></value><statement name="DO0"><block type="function_call" id="cDV-4oQnR)u*mtc3-Wr5"><mutation name="stopMotors" functionid="2zk(F7Wy}g_L(V.KY^J6"></mutation><next><block type="function_call" id="50Sx+@A*G+,4Ez]Wxzi{"><mutation name="updateOLED" functionid="_ao}oC-zsB(%i$y;u=J-"><arg name="text" id="y5w832wgifaaqv6ji7p7k" type="string"></arg><arg name="clear" id="oinxls8r3uakg54xihze" type="boolean"></arg></mutation><value name="y5w832wgifaaqv6ji7p7k"><shadow type="text" id="llr~I!lxJx!i@P$cke}u"><field name="TEXT">Obstacle Detected</field></shadow></value><value name="oinxls8r3uakg54xihze"><shadow type="logic_boolean" id="0IM@Fz(7u+um/p/!qxM7"><field name="BOOL">TRUE</field></shadow></value><next><block type="typescript_statement" id="Pi#q9zE@jvwS@SK[pn(p"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></next></block></next></block></statement><next><block type="typescript_statement" id="*{Cm$$=M/cY,8}I/lAA5"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="switch (receivedNumber) {" line1="        case 12: // 前進" line2="            moveForward()" line3="            break" line4="        case 8:  // 後退" line5="            moveBackward()" line6="            break" line7="        case 14: // 停止" line8="            stopMotors()" line9="            break" line10="        default:" line11="            basic.showIcon(IconNames.SmallHeart)" line12="            updateOLED(&quot;Unknown Signal&quot;, true)" line13="    }" numlines="14"></mutation><next><block type="variables_set" id="?g0%OV.$|Eg`_M5AxN`f"><field name="VAR" id="R,;g-8m#3~Fu(aE+00g5">lastSignalTime</field><value name="VALUE"><shadow type="math_number" id="NlPI/DA$p*bS]be_0Mp?"><field name="NUM">0</field></shadow><block type="variables_get" id="8d=@Fxt/j_[z}bn%*7,8"><field name="VAR" id=";XsB0d7OK5Vc+fi56rv2">currentTime</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="by!ZmX,WP0hJUYFwSckx" x="1960" y="0"><mutation name="init" functionid="L)6@ABD^tJk}m#hnqBU3"></mutation><field name="function_name">init</field><comment pinned="false" h="80" w="160">当前時間
初始化</comment><statement name="STACK"><block type="radio_set_group" id="^ebIK,]D[bNwME^h1/)D"><value name="ID"><shadow type="math_number_minmax" id="H:$/v0]W=bWm68{ys%~A"><mutation min="0" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id=";?!Lk01T1muaJyncL{dF"><field name="VAR" id="4WvT:i#MzIsh(a@`C%|D">RADIO_GROUP</field></block></value><next><block type="xiamiBoard_initXiaMiBoard" id="*7KM11;B}),#f^jM?nL;"><next><block type="xiamiBoard_setBrightness" id="kL_@R(`e=Kw+hMxH)Ga*"><value name="brightness"><shadow type="math_number_minmax" id="(I!;H,0F+Wk`k,fN`D*."><mutation min="0" max="255" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="dDpZim3`-@ihO)HI)a`n"><field name="VAR" id="}r}l^V4Z=[%i83,Q^!fJ">OLED_BRIGHTNESS</field></block></value><next><block type="xiamiBoard_setIndexColor" id="?m#r=a.D4N03kL0|X;fM"><comment pinned="false" h="80" w="160">黃色</comment><value name="index"><shadow type="math_number_minmax" id="}./@h.YEq!Pb7Sk*-F$*"><mutation min="0" max="1" precision="0"></mutation><field name="SLIDER">0</field></shadow></value><value name="rgb"><shadow type="colorNumberPicker" id="2%n!}Kr-H+b#CGQ?)O=T"><field name="value">0xffff00</field></shadow></value><next><block type="xiamiBoard_setIndexColor" id="]JuA%s3@J%OVhwJSq+w`"><data>{"commentRefs":[],"fieldData":{}}</data><value name="index"><shadow type="math_number_minmax" id="(n=TA7G[Y~pNXRxYb}$R"><mutation min="0" max="1" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><value name="rgb"><shadow type="colorNumberPicker" id="d^ho~~b5j{d/t8cBVhEp"><field name="value">0xffff00</field></shadow></value><next><block type="xiamiBoard_OLEDclear" id="c2:|H1`h73jn}NBTYfcp"><next><block type="function_call" id="{Rm@KP~,(/xQRhy7S2!I"><mutation name="stopMotors" functionid="2zk(F7Wy}g_L(V.KY^J6"></mutation><next><block type="function_call" id="?`{RA4{sszj!Sc!P,X:I"><mutation name="updateOLED" functionid="_ao}oC-zsB(%i$y;u=J-"><arg name="text" id="y5w832wgifaaqv6ji7p7k" type="string"></arg><arg name="clear" id="oinxls8r3uakg54xihze" type="boolean"></arg></mutation><comment pinned="false" h="80" w="160">顯示初始化完成</comment><value name="y5w832wgifaaqv6ji7p7k"><shadow type="text" id="6;#qj+=2H9zw~[Vv:/hO"><field name="TEXT">Ready</field></shadow></value><value name="oinxls8r3uakg54xihze"><shadow type="logic_boolean" id="/n@eN7wmu~}xC,h-5Ng~"><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Pk;za6G4YsJIxb#$=m.B" x="2405" y="0"><mutation name="controlMotors" functionid="Yi1@SQP(5?2Q)78s#Tu?"><arg name="m1Dir" id="ax2t7iix3r686byzg54wb" type="number"></arg><arg name="m1Speed" id="p6i6m14nigtsa9lxpucd" type="number"></arg><arg name="m2Dir" id="i8xo0ato4qxkdc6cml7o" type="number"></arg><arg name="m2Speed" id="3xveu04oy5tkcf6dfj" type="number"></arg><arg name="m3Dir" id="m5xaxw8kz3u9c8f2ltd9" type="number"></arg><arg name="m3Speed" id="ncht251nun1smlfhwr6r" type="number"></arg><arg name="m4Dir" id="6tz1l3fft726bj593vlyi" type="number"></arg><arg name="m4Speed" id="lx6dyc17siqjixvd0zn4" type="number"></arg><arg name="action" id="5gdhvk8sfmw1z60m8vnm" type="string"></arg></mutation><field name="function_name">controlMotors</field><comment pinned="false" h="80" w="160">控制電機</comment><value name="ax2t7iix3r686byzg54wb"><block type="argument_reporter_number" id="GZp[sxdtXS}XohAXS*0V"><mutation duplicateondrag="true"></mutation><field name="VALUE">m1Dir</field></block></value><value name="p6i6m14nigtsa9lxpucd"><block type="argument_reporter_number" id="MtXHY({Zr~Ca:~ewG:yH"><mutation duplicateondrag="true"></mutation><field name="VALUE">m1Speed</field></block></value><value name="i8xo0ato4qxkdc6cml7o"><block type="argument_reporter_number" id="]ZS2Bq##`c9n96,,R,}!"><mutation duplicateondrag="true"></mutation><field name="VALUE">m2Dir</field></block></value><value name="3xveu04oy5tkcf6dfj"><block type="argument_reporter_number" id=":ynSlK8Yy+h[kCSCT3s`"><mutation duplicateondrag="true"></mutation><field name="VALUE">m2Speed</field></block></value><value name="m5xaxw8kz3u9c8f2ltd9"><block type="argument_reporter_number" id="3FcwoLv`-,yq*)-423fA"><mutation duplicateondrag="true"></mutation><field name="VALUE">m3Dir</field></block></value><value name="ncht251nun1smlfhwr6r"><block type="argument_reporter_number" id="i!B5*6HK|@C|Pw4du*MY"><mutation duplicateondrag="true"></mutation><field name="VALUE">m3Speed</field></block></value><value name="6tz1l3fft726bj593vlyi"><block type="argument_reporter_number" id="9E15uMROw.x4ulZV+n1e"><mutation duplicateondrag="true"></mutation><field name="VALUE">m4Dir</field></block></value><value name="lx6dyc17siqjixvd0zn4"><block type="argument_reporter_number" id="|(K=H`PN!Y#Qx`Cl4vk:"><mutation duplicateondrag="true"></mutation><field name="VALUE">m4Speed</field></block></value><value name="5gdhvk8sfmw1z60m8vnm"><block type="argument_reporter_string" id="@)z-,K%F%kt!|fx-Ka[+"><mutation duplicateondrag="true"></mutation><field name="VALUE">action</field></block></value><statement name="STACK"><block type="typescript_statement" id="PrItSEs6xEC6_`8Dy7kj"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="xiamiBoard.motorRun(1, m1Dir, Math.constrain(m1Speed, 0, 255))" numlines="1"></mutation><comment pinned="false" h="80" w="160">M1</comment><next><block type="typescript_statement" id="4jOh?!V#?{p!W1_^Sk/l"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="xiamiBoard.motorRun(2, m2Dir, Math.constrain(m2Speed, 0, 255))" numlines="1"></mutation><comment pinned="false" h="80" w="160">M2</comment><next><block type="typescript_statement" id="7cR_S5ds)MID+v;%s(|;"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="xiamiBoard.motorRun(3, m3Dir, Math.constrain(m3Speed, 0, 255))" numlines="1"></mutation><comment pinned="false" h="80" w="160">M3</comment><next><block type="typescript_statement" id="5aURqNs[kFJ,+BW9yt2T"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="xiamiBoard.motorRun(4, m4Dir, Math.constrain(m4Speed, 0, 255))" numlines="1"></mutation><comment pinned="false" h="80" w="160">M4</comment><next><block type="function_call" id="We{n^OR0tNV_3b~VE2qL"><mutation name="updateOLED" functionid="_ao}oC-zsB(%i$y;u=J-"><arg name="text" id="y5w832wgifaaqv6ji7p7k" type="string"></arg><arg name="clear" id="oinxls8r3uakg54xihze" type="boolean"></arg></mutation><data>{"commentRefs":[],"fieldData":{}}</data><value name="y5w832wgifaaqv6ji7p7k"><shadow type="text" id="P!*~0qN?4[5:+08w:W^L"><field name="TEXT">abc</field></shadow><block type="argument_reporter_string" id="-;x4LCbcE3p9LeBqax*R"><field name="VALUE">action</field></block></value><value name="oinxls8r3uakg54xihze"><shadow type="logic_boolean" id="]V{,nj7b6t+J=6:c/Ihl"><field name="BOOL">FALSE</field></shadow></value><next><block type="variables_set" id="R/BLj`d@RgJC)@mc_8[V"><field name="VAR" id="nc4*kl5DES~ZoTXyawGc">lastAction</field><value name="VALUE"><shadow type="math_number" id="H#|2H[9HCozD$/=.T]c,"><field name="NUM">0</field></shadow><block type="argument_reporter_string" id="pqNS*v17?Lj=zs%2*U*q"><field name="VALUE">action</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="{k.OCEgj|V10;oRBc]8R" x="0" y="1237"><mutation name="moveBackward" functionid="5:/?[}SWE9$~P8Pdfiy3"></mutation><field name="function_name">moveBackward</field><statement name="STACK"><block type="function_call" id="w15$E.BO`kE}o1CVQBoF"><mutation name="controlMotors" functionid="Yi1@SQP(5?2Q)78s#Tu?"><arg name="m1Dir" id="ax2t7iix3r686byzg54wb" type="number"></arg><arg name="m1Speed" id="p6i6m14nigtsa9lxpucd" type="number"></arg><arg name="m2Dir" id="i8xo0ato4qxkdc6cml7o" type="number"></arg><arg name="m2Speed" id="3xveu04oy5tkcf6dfj" type="number"></arg><arg name="m3Dir" id="m5xaxw8kz3u9c8f2ltd9" type="number"></arg><arg name="m3Speed" id="ncht251nun1smlfhwr6r" type="number"></arg><arg name="m4Dir" id="6tz1l3fft726bj593vlyi" type="number"></arg><arg name="m4Speed" id="lx6dyc17siqjixvd0zn4" type="number"></arg><arg name="action" id="5gdhvk8sfmw1z60m8vnm" type="string"></arg></mutation><comment pinned="false" h="80" w="160">M1: CW
M2: CCW
M3: CCW</comment><value name="ax2t7iix3r686byzg54wb"><shadow type="math_number" id="@^`h3nmbrrz[HH!87s1Z"><field name="NUM">0</field></shadow></value><value name="p6i6m14nigtsa9lxpucd"><shadow type="math_number" id="o!.Ap@APQ.y`oPtZv_SI"><field name="NUM">1</field></shadow><block type="variables_get" id="Y/;n$xMQtj!V-_WCM0bM"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field></block></value><value name="i8xo0ato4qxkdc6cml7o"><shadow type="math_number" id="df9NwA.`[XI`oo)$3D=|"><field name="NUM">1</field></shadow></value><value name="3xveu04oy5tkcf6dfj"><shadow type="math_number" id="-cP2(CE5)ZCL.RaO.Q~F"><field name="NUM">1</field></shadow><block type="variables_get" id="D]HeDgPFvi3I,([MNNw_"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field></block></value><value name="m5xaxw8kz3u9c8f2ltd9"><shadow type="math_number" id="GqTfU#3Y9Jx,^GZ5(5-="><field name="NUM">1</field></shadow></value><value name="ncht251nun1smlfhwr6r"><shadow type="math_number" id=";{E),W[M|eJjaZMn:*#I"><field name="NUM">1</field></shadow><block type="variables_get" id="7;Jc#;OieJj3dE*_`L$z"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field></block></value><value name="6tz1l3fft726bj593vlyi"><shadow type="math_number" id="rj^[|zD]PmZ!4{mvOW9X"><field name="NUM">0</field></shadow></value><value name="lx6dyc17siqjixvd0zn4"><shadow type="math_number" id="o7}u-`Z[Uv?vg=bVi#(1"><field name="NUM">1</field></shadow><block type="variables_get" id="Mm/hY;-J~/=g*L!h5=w?"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field></block></value><value name="5gdhvk8sfmw1z60m8vnm"><shadow type="text" id="{oC$S4]H}IRfP(!{LW;t"><field name="TEXT">abc</field></shadow><block type="typescript_expression" id="kV`v=sY_XoYQ6whLYYxD"><field name="EXPRESSION">// M4: CW
        RobotAction.Backward</field></block></value></block></statement></block><block type="function_definition" id="unc^T;p$X/D@+4B@|0An" x="1260" y="1237"><mutation name="updateOLED" functionid="_ao}oC-zsB(%i$y;u=J-"><arg name="text" id="y5w832wgifaaqv6ji7p7k" type="string"></arg><arg name="clear" id="oinxls8r3uakg54xihze" type="boolean"></arg></mutation><field name="function_name">updateOLED</field><comment pinned="false" h="80" w="160">OLED 顯示</comment><value name="y5w832wgifaaqv6ji7p7k"><block type="argument_reporter_string" id="qHo@q7j5$4bdG7mjKM/h"><mutation duplicateondrag="true"></mutation><field name="VALUE">text</field></block></value><value name="oinxls8r3uakg54xihze"><block type="argument_reporter_boolean" id="L0mQF^Fq5qkjVhQn=`WN"><mutation duplicateondrag="true"></mutation><field name="VALUE">clear</field></block></value><statement name="STACK"><block type="controls_if" id="D`KqVvmN$s|nvhF8;)1-"><value name="IF0"><shadow type="logic_boolean" id="OQ@~tQ[LBX{4fp5jf1dO"><field name="BOOL">TRUE</field></shadow><block type="argument_reporter_boolean" id=":(u@@mchXceSTlP:g8!r"><field name="VALUE">clear</field></block></value><statement name="DO0"><block type="xiamiBoard_OLEDclear" id="J6B((VFjIswiw:-}GyWR"></block></statement><next><block type="xiamiBoard_OLEDshowUserText" id="2*Z`k]*Q`B;{)|RNI60E"><value name="text"><block type="argument_reporter_string" id="X5ea={K.D@)Wi0p#xY,t"><field name="VALUE">text</field></block></value><value name="line"><shadow type="math_number_minmax" id="6KskV++o(icbM2drH!B@"><mutation min="0" max="7" precision="0"></mutation><field name="SLIDER">0</field></shadow></value><value name="column"><shadow type="math_number_minmax" id="eoh*(6}21*:]+YarKUnV"><mutation min="0" max="15" precision="0"></mutation><field name="SLIDER">0</field></shadow></value></block></next></block></statement></block><block type="function_definition" id=".]vo,haYO78y_w#rNNQ5" x="1779" y="1237"><mutation name="displaySensorData" functionid="}40:bWei/U]zHSFh5$FN"></mutation><field name="function_name">displaySensorData</field><comment pinned="false" h="80" w="160">顯示超聲波數據</comment><statement name="STACK"><block type="variables_set" id="1Z0KMdsn|=65KbRh(,50"><field name="VAR" id="h6ETo%?itJ]wFduYM8:5">ultrasonicDistance</field><value name="VALUE"><shadow type="math_number" id="#:N[{t}$5x,|vDCV8Qr5"><field name="NUM">0</field></shadow><block type="math_js_round" id="Y[Ol8i7f*WF.b+7fWKp1"><field name="OP">round</field><value name="ARG0"><shadow type="math_number" id="+}r$JLjwPN6/6.t,3POU"><field name="NUM">0</field></shadow><block type="ultrasonic_sensor" id="TRyrNKhz)K}5jEvYux[F"></block></value></block></value><next><block type="controls_if" id=";9Xqu6kT=5%FUp?{41,A"><comment pinned="false" h="80" w="160">驗證傳感器數據</comment><value name="IF0"><shadow type="logic_boolean" id="[qoTTmU|e4+f7*,)Ao,a"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="U*I)x{1.]0^WlfKkak[-"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="rf@(}h2aLnTy`u,9#lLZ"><field name="NUM">0</field></shadow><block type="variables_get" id="v^=y.PI+tN#Y(0}@%JGw"><field name="VAR" id="h6ETo%?itJ]wFduYM8:5">ultrasonicDistance</field></block></value><value name="B"><shadow type="math_number" id="k[K@{sA](j/]{C|Dp%j|"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="function_call" id="t%hBY?^iLq$x5MFZT5vq"><mutation name="updateOLED" functionid="_ao}oC-zsB(%i$y;u=J-"><arg name="text" id="y5w832wgifaaqv6ji7p7k" type="string"></arg><arg name="clear" id="oinxls8r3uakg54xihze" type="boolean"></arg></mutation><value name="y5w832wgifaaqv6ji7p7k"><shadow type="text" id="v]@;}?LPTHHG!Eh3{vzL"><field name="TEXT">Sensor Error</field></shadow></value><value name="oinxls8r3uakg54xihze"><shadow type="logic_boolean" id="8A/tLR_kSJ5r}A89BM|,"><field name="BOOL">TRUE</field></shadow></value><next><block type="function_return" id="yL_1_]HaN;Z(mysj$AVd"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="true"></mutation></block></next></block></statement><next><block type="xiamiBoard_OLEDshowUserNumber" id=".+e4kq]+my{Y{:hW602R"><comment pinned="false" h="80" w="160">顯示距離</comment><value name="n"><block type="variables_get" id="Y}?w$dBf|[:C!N@jFjS["><field name="VAR" id="h6ETo%?itJ]wFduYM8:5">ultrasonicDistance</field></block></value><value name="line"><shadow type="math_number_minmax" id="?vw%yAe[#5/4blXu|wE="><mutation min="0" max="7" precision="0"></mutation><field name="SLIDER">2</field></shadow></value><value name="column"><shadow type="math_number_minmax" id="-zjzt0Z73h:Rq)cqqy$O"><mutation min="0" max="15" precision="0"></mutation><field name="SLIDER">0</field></shadow></value><next><block type="xiamiBoard_OLEDshowUserText" id="lk_EUXD-XBS~sjH!WcHC"><value name="text"><shadow type="text" id="9Oz,EFsizcD*t_Hvh|/7"><field name="TEXT">cm</field></shadow></value><value name="line"><shadow type="math_number_minmax" id="qvtXV)y|(I$oZ}#[|w7`"><mutation min="0" max="7" precision="0"></mutation><field name="SLIDER">2</field></shadow></value><value name="column"><shadow type="math_number_minmax" id="cQJnl[mC(HCZq{.6~Lf3"><mutation min="0" max="15" precision="0"></mutation><field name="SLIDER">6</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="CZkozOEe.SL![6NnR^+-" x="2521" y="1237"><mutation name="moveForward" functionid="%0TIl]fONL*A)agg+!~5"></mutation><field name="function_name">moveForward</field><comment pinned="false" h="80" w="160">動作函數</comment><statement name="STACK"><block type="function_call" id="Rrtd}Z=S=G?bACgqBL7."><mutation name="controlMotors" functionid="Yi1@SQP(5?2Q)78s#Tu?"><arg name="m1Dir" id="ax2t7iix3r686byzg54wb" type="number"></arg><arg name="m1Speed" id="p6i6m14nigtsa9lxpucd" type="number"></arg><arg name="m2Dir" id="i8xo0ato4qxkdc6cml7o" type="number"></arg><arg name="m2Speed" id="3xveu04oy5tkcf6dfj" type="number"></arg><arg name="m3Dir" id="m5xaxw8kz3u9c8f2ltd9" type="number"></arg><arg name="m3Speed" id="ncht251nun1smlfhwr6r" type="number"></arg><arg name="m4Dir" id="6tz1l3fft726bj593vlyi" type="number"></arg><arg name="m4Speed" id="lx6dyc17siqjixvd0zn4" type="number"></arg><arg name="action" id="5gdhvk8sfmw1z60m8vnm" type="string"></arg></mutation><comment pinned="false" h="80" w="160">M1: CCW
M2: CW
M3: CW</comment><value name="ax2t7iix3r686byzg54wb"><shadow type="math_number" id="B(2;1ltDep_frxR1Wqih"><field name="NUM">1</field></shadow></value><value name="p6i6m14nigtsa9lxpucd"><shadow type="math_number" id="~QSO)1@L{{Ei/7LFFV#0"><field name="NUM">1</field></shadow><block type="variables_get" id="$@(_O(O9R{(,pjv9zN+i"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field></block></value><value name="i8xo0ato4qxkdc6cml7o"><shadow type="math_number" id="oN.N+)bB,%JSPh11z%97"><field name="NUM">0</field></shadow></value><value name="3xveu04oy5tkcf6dfj"><shadow type="math_number" id="R_on;mE2$TX8TUV=!v_e"><field name="NUM">1</field></shadow><block type="variables_get" id="f,V{D!1wx5,.@J@(d]6m"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field></block></value><value name="m5xaxw8kz3u9c8f2ltd9"><shadow type="math_number" id="[+/kGc3At+QJd|)p}6tu"><field name="NUM">0</field></shadow></value><value name="ncht251nun1smlfhwr6r"><shadow type="math_number" id="+^@S8k6oTFX7::EnNw7O"><field name="NUM">1</field></shadow><block type="variables_get" id="FjmUPe)Tg.e]G)Pq:!#0"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field></block></value><value name="6tz1l3fft726bj593vlyi"><shadow type="math_number" id="-Xef}LiL^/(O-gIKo(u1"><field name="NUM">1</field></shadow></value><value name="lx6dyc17siqjixvd0zn4"><shadow type="math_number" id="(3KQo2?5RM`d9LMR]^5?"><field name="NUM">1</field></shadow><block type="variables_get" id="TU5Y#IuQ%*FSL/CiO1`;"><field name="VAR" id="mpz1,#~FZVfG`kurPmg:">vnorm</field></block></value><value name="5gdhvk8sfmw1z60m8vnm"><shadow type="text" id="npnY:S8rFOj=O=^6l5_]"><field name="TEXT">abc</field></shadow><block type="typescript_expression" id="({/F`jo|pbwN@@7+WxZ3"><field name="EXPRESSION">// M4: CCW
        RobotAction.Forward</field></block></value></block></statement></block><block type="function_definition" id="9!k(|Y:]XYkdT7liX(Ga" x="0" y="1723"><mutation name="stopMotors" functionid="2zk(F7Wy}g_L(V.KY^J6"></mutation><field name="function_name">stopMotors</field><statement name="STACK"><block type="typescript_statement" id="fX2KFX%g643_8=0h)bJc"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="xiamiBoard.motorStop(1)" numlines="1"></mutation><comment pinned="false" h="80" w="160">M1</comment><next><block type="typescript_statement" id="9P69mOezo9Gi:$(0/gy0"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="xiamiBoard.motorStop(2)" numlines="1"></mutation><comment pinned="false" h="80" w="160">M2</comment><next><block type="typescript_statement" id="uo4QIDL;~sDqN$LHmbj;"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="xiamiBoard.motorStop(3)" numlines="1"></mutation><comment pinned="false" h="80" w="160">M3</comment><next><block type="typescript_statement" id="1+WSa-h,u2_B)PP(Z9{Y"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="xiamiBoard.motorStop(4)" numlines="1"></mutation><comment pinned="false" h="80" w="160">M4</comment><next><block type="function_call" id="h]uu60:v,L!C|u;OW|t4"><mutation name="updateOLED" functionid="_ao}oC-zsB(%i$y;u=J-"><arg name="text" id="y5w832wgifaaqv6ji7p7k" type="string"></arg><arg name="clear" id="oinxls8r3uakg54xihze" type="boolean"></arg></mutation><data>{"commentRefs":[],"fieldData":{}}</data><value name="y5w832wgifaaqv6ji7p7k"><shadow type="text" id="$2Ge!*17Dh@ixEf*2r[y"><field name="TEXT">abc</field></shadow><block type="typescript_expression" id="E,pT7aNFQed84nzrO|-l"><field name="EXPRESSION">RobotAction.Stop</field></block></value><value name="oinxls8r3uakg54xihze"><shadow type="logic_boolean" id="TtDI@%-pkTf/,(Y`]fi8"><field name="BOOL">FALSE</field></shadow></value><next><block type="typescript_statement" id="-0n1BDRWOQTsgh#qvPxw"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="lastAction = RobotAction.Stop" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>